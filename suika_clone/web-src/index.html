<!doctype html>
<html lang="en">
<head>
    <title>suika_clone</title>
    <meta charset="UTF-8">
<style>
    .big {
        width: 640px;
        height: 640px;
    }
</style>
</head>

<body style="margin: 0px;">
  <script type="module">
    import init, { start } from './[JS_FILE_NAME].js'

    let wasm = init().catch((error) => {
      if (!error.message.startsWith("Using exceptions for control flow, don't mind me. This isn't actually an error!")) {
        throw error;
      }
    })

    async function open() {
        await wasm

        let url = new URL(window.location.href)
        let select = url.searchParams.get('select')
        if (select === null) {
            start('')
        } else {
            start(select)
        }
    }

    let btn = document.getElementById('open')
    btn.addEventListener('click', (ev) => {
        open()
        btn.remove()
    })
  </script>

  <button id="open" type="button" class="big">Open suika_clone!</button>
</body>

</html>

